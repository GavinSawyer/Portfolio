<form
  fxLayout="row"
  fxLayoutAlign="start end"
  fxLayoutGap="0.5rem"
  name="message"
  [formGroup]="formGroup"
  (ngSubmit)="submit();">
  <div
    fxFlex=""
    fxLayout="column"
    fxLayoutGap="0.5rem">
    <div>
      <h3 style="margin: 0.5rem 0 0;">
        {{ (statusObservable | async) == "unsent" ? "Want to connect?" : ((statusObservable | async) == "sending" ? "Sending" : "We'll be in touch") + (ellipsesService.ellipsesObservable | async) }}
      </h3>
    </div>
    <div>
      <h4 style="margin: 0.5rem 0 0;">
        Name:
      </h4>
    </div>
    <input autofocus type="text" formControlName="name" [required]="true">
    <div>
      <h4 style="margin: 0.5rem 0 0;">
        Message:
      </h4>
    </div>
    <textarea [rows]="responsivityService.getTextAreaRows(messageHTMLTextAreaElement, { min: 2 })" formControlName="message" [required]="true" #messageHTMLTextAreaElement (input)="responsivityService.adjustTextAreaRows(messageHTMLTextAreaElement, { min: 2 });"></textarea>
    <div>
      <h4 style="margin: 0.5rem 0 0;">
        Enter one or both:
      </h4>
    </div>
    <input placeholder="Phone number" type="tel" formControlName="phone" [required]="formGroup.value['email'] == ''" [validation]="true" mask="(000) 000-0000">
    <input placeholder="Email" type="email" formControlName="email" [required]="formGroup.value['phone'] == ''" [email]="true">
    <div></div>
  </div>
  <button
    type="submit"
    fxLayout="column"
    disabled=""
    [disabled]="(!authenticationService.userCredentialSubject.value) || (!formGroup.valid) || (statusObservable | async) !== 'unsent'">
    <img [src]="'/assets/icons/submit.' + (authenticationService.userCredentialSubject.value && formGroup.valid && (statusObservable | async) == 'unsent' ? (responsivityService.foregroundAppearanceObservable | async) == 'light' ? 'dark' : 'light' : (responsivityService.foregroundAppearanceObservable | async)) + '.svg'" alt="Send message icon">
  </button>
</form>
