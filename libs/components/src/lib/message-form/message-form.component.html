<form
  fxLayout="row"
  fxLayoutAlign="start end"
  fxLayoutGap="0.5rem"
  name="message"
  [formGroup]="formGroup"
  (ngSubmit)="submit();">
  <div
    fxFlex=""
    fxLayout="column"
    fxLayoutGap="0.5rem">
    <div>
      <h3 style="margin: 0.5rem 0 0;">
        {{ (statusObservable | async) == "unsent" ? "Want to connect?" : ((statusObservable | async) == "sending" ? "Sending" : "We'll be in touch") + (ellipsesService.ellipsesObservable | async) }}
      </h3>
    </div>
    <div>
      <h4 id="nameInputLabel" style="margin: 0.5rem 0 0;">
        Name:
      </h4>
    </div>
    <input #nameHTMLInputElement aria-labelledby="nameInputLabel" autofocus autocapitalize="words" autocomplete="name" formControlName="name" [required]="true" type="text">
    <div>
      <h4 id="messageInputLabel" style="margin: 0.5rem 0 0;">
        Message:
      </h4>
    </div>
    <textarea #messageHTMLTextAreaElement aria-labelledby="messageInputLabel" formControlName="message"  (input)="responsivityService.adjustTextAreaRows(messageHTMLTextAreaElement, { min: 2 });" [required]="true" [rows]="responsivityService.getTextAreaRows(messageHTMLTextAreaElement, { min: 2 })"></textarea>
    <div>
      <h4 style="margin: 0.5rem 0 0;">
        Enter one or both:
      </h4>
    </div>
    <input aria-label="U.S. Phone number" autocomplete="tel-national" formControlName="phone" mask="(000) 000-0000" placeholder="Phone number" [required]="formGroup.value['email'] == ''" type="tel" [validation]="true">
    <input aria-label="Email address" autocomplete="email" [email]="true" formControlName="email" placeholder="Email" [required]="formGroup.value['phone'] == ''" type="email">
    <div></div>
  </div>
  <button
    type="submit"
    fxLayout="column"
    disabled=""
    [disabled]="(!authenticationService.userCredentialSubject.value) || (!formGroup.valid) || (statusObservable | async) !== 'unsent'">
    <img [src]="'/assets/icons/submit.' + (authenticationService.userCredentialSubject.value && formGroup.valid && (statusObservable | async) == 'unsent' ? (responsivityService.foregroundAppearanceObservable | async) == 'light' ? 'dark' : 'light' : (responsivityService.foregroundAppearanceObservable | async)) + '.svg'" alt="Send message icon">
  </button>
</form>
